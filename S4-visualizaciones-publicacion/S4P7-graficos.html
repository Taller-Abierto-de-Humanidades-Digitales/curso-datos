
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Gráficos &#8212; Visualización de datos educativos abiertos</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gráficos con plotly" href="S4P8-plotly.html" />
    <link rel="prev" title="Barras, líneas y mapas" href="S4P6-intrografs.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3Y0Y8V4K66"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-3Y0Y8V4K66');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo_datos.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Visualización de datos educativos abiertos</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Te damos la bienvenida :)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Selecciona e importa una fuente de datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../S1-identificacion-importacion/S1P1-crear-cuaderno.html">
   Crear un cuaderno para practicar con código
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S1-identificacion-importacion/S1P2-seleccionar-fuente-datos.html">
   Seleccionar una fuente de datos
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S1-identificacion-importacion/S1P3-fuentes-datos.html">
     Fuentes de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S1-identificacion-importacion/S1P4-selecciona-datos.html">
     Actividad: Seleccionar tu fuente de datos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S1-identificacion-importacion/S1P5-importar-datos.html">
   Importar datos a Google Colab
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S1-identificacion-importacion/S1P6-actividad-importar-datos.html">
     Actividad: importa tu fuente de datos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../S1-identificacion-importacion/S1P7-sintesis.html">
   ¿Qué aprendimos esta semana?
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Análisis de estructuras de datos y preparación
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../S2-estructuras-preparacion/S2P1-introduccion.html">
   Análisis de estructuras de datos y preparación
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S2-estructuras-preparacion/S2P2-como-describir.html">
   ¿Cómo describir una fuente de datos?
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S2-estructuras-preparacion/S2P3-tipos-datos.html">
     Tipos de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S2-estructuras-preparacion/S2P4-dtypes.html">
     Tipos de datos con pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S2-estructuras-preparacion/S2P5-operaciones-datos.html">
     Variables cuantitativas y cualitativas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S2-estructuras-preparacion/S2P6-describe.html">
     Describir la fuente de datos con la función
     <code class="docutils literal notranslate">
      <span class="pre">
       describe()
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S2-estructuras-preparacion/S2P7-actividad-avance-proyecto.html">
     Actividad de avance del proyecto
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../S2-estructuras-preparacion/S2P8-sintesis.html">
   ¿Qué aprendimos esta semana?
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Procesamiento de datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../S3-procesamiento/S3P1-introduccion.html">
   Introducción a la manipulación de datos
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S3-procesamiento/S3P2-manipulacion.html">
   Manipulación básica de un dataframe
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P3-seleccion.html">
     Selección de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P4-renombrar-columnas.html">
     Renombrar columnas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P5-union-df.html">
     Combinar fuentes de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P51-actividad1.html">
     Actividad manipulación de datos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S3-procesamiento/S3P6-limpieza.html">
   Limpieza de datos
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P7-segmentar.html">
     Segmentar la información
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P8-dropna.html">
     Manejar datos nulos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P9-dropduplicates.html">
     Eliminar duplicados
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P10-tonumeric.html">
     Asegurar datos numéricos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P11-todatetime.html">
     Cambiar datos a fechas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P111-actividad2.html">
     Actividad: limpieza de datos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../S3-procesamiento/S3P12-transformar.html">
   Operaciones “avanzadas”
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P13-agrupar.html">
     Agrupar
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P14-apply.html">
     El método
     <code class="docutils literal notranslate">
      <span class="pre">
       apply()
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P15-georeferenciar.html">
     Georeferenciar
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../S3-procesamiento/S3P16-to_csv.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       to_csv
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../S3-procesamiento/S3P161-actividad3.html">
   Actividad normalización y transformación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../S3-procesamiento/S3P17-actividad-entrega.html">
   Avance del proyecto
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Visualización de datos
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="S4P1-introduccion.html">
   A ver datos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="S4P2-claves-visualizacion.html">
   Bases para la visualización de datos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="S4P3-dataviz.html">
   Data Viz Project
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="S4P4-visualizacion-malformada.html">
   Sobre el mensaje en la visualización de datos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="S4P5-actividad1.html">
   ¿Qué visualización vas a utilizar para tus datos?
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="S4P6-intrografs.html">
   Barras, líneas y mapas
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Gráficos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="S4P8-plotly.html">
     Gráficos con plotly
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="S4P9-actividad2.html">
     ¡Tu visualización!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="S4P10-mapas.html">
     Mapas
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Proyecto final
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="S4P11-pfinal.html">
   Proyecto final
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="S4P12-mi-cuaderno-de-datos_final.html">
   Ejemplo de cuaderno para el proyecto final
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Bibiografía
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   Bibliografía
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Elaborado con <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/MOOC-UNAM-Publico/curso-datos/gh-pages?urlpath=tree/S4-visualizaciones-publicacion/S4P7-graficos.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/MOOC-UNAM-Publico/curso-datos"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/MOOC-UNAM-Publico/curso-datos/issues/new?title=Issue%20on%20page%20%2FS4-visualizaciones-publicacion/S4P7-graficos.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/S4-visualizaciones-publicacion/S4P7-graficos.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="../_sources/S4-visualizaciones-publicacion/S4P7-graficos.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib">
   <code class="docutils literal notranslate">
    <span class="pre">
     matplotlib
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-barras">
     Gráfico de barras
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-lineas">
     Gráfico de líneas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-dispersion">
     Gráfico de dispersión
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#notas">
   Notas
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Gráficos</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib">
   <code class="docutils literal notranslate">
    <span class="pre">
     matplotlib
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-barras">
     Gráfico de barras
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-lineas">
     Gráfico de líneas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafico-de-dispersion">
     Gráfico de dispersión
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#notas">
   Notas
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="graficos">
<h1>Gráficos<a class="headerlink" href="#graficos" title="Permalink to this headline">#</a></h1>
<p>Vamos manos a la obra. En las secciones anteriores vimos algunas de las precauciones que debemos tener en cuenta antes o durante la creación de visualizaciones. Ahora, vamos a hacer algunas. Para ello, nos vamos a apoyar en dos librerías de Python: <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> y <code class="docutils literal notranslate"><span class="pre">plotly</span></code>.</p>
<p>Vamos a aprovechar los datos que ya procesamos en la sección <a class="reference internal" href="S4P2-claves-visualizacion.html"><span class="doc std std-doc">Bases para la visualización de datos</span></a></p>
<section id="matplotlib">
<h2><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code><a class="headerlink" href="#matplotlib" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> es una librería de Python que nos permite crear visualizaciones de datos. Es una de las librerías más populares para este propósito. En esta sección vamos a ver cómo crear algunos gráficos con esta librería.</p>
<section id="grafico-de-barras">
<h3>Gráfico de barras<a class="headerlink" href="#grafico-de-barras" title="Permalink to this headline">#</a></h3>
<p>Vamos a crear un gráfico de barras que nos permita comparar la cantidad de fallecidos diarios en México durante el primer semestre de 2022.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># retomamos el dataframe que creamos en la sección anterior `muertes_diarias`</span>
<span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">])</span>
<span class="c1"># este paso **no es necesario**, pero nos servirá para hacer más legible las fechas</span>
<span class="c1"># básicamente, pasamos de un formato de fecha a una etiqueta de contenga el</span>
<span class="c1"># día, mes y año</span>
<span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y&#39;</span><span class="p">)</span>

<span class="c1"># creamos el gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">],</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios&#39;</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecidos diarios en México (primer semestre 2022)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecidos&#39;</span><span class="p">)</span>
<span class="c1"># segmentamos las fechas para que no se solapen</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">30</span><span class="p">])</span>

<span class="c1"># mostramos el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_4_0.png" src="../_images/S4P7-graficos_4_0.png" />
</div>
</div>
<p>Vamos a explicar este código con más detalle:</p>
<ul class="simple">
<li><p>Primero, importamos la librería <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> y la renombramos como <code class="docutils literal notranslate"><span class="pre">plt</span></code>. Esta librería es la que nos permite crear visualizaciones con <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Luego, creamos el gráfico. Para ello, usamos la función <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code>. Esta función nos permite crear una figura y un eje. La figura es el lienzo donde se dibujará el gráfico. El eje es el objeto que nos permite manipular el gráfico. En este caso, creamos una figura de 10x6 pixeles.</p></li>
</ul>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_8_0.png" src="../_images/S4P7-graficos_8_0.png" />
</div>
</div>
<ul class="simple">
<li><p>Luego, usamos el método <code class="docutils literal notranslate"><span class="pre">bar</span></code> del eje para crear el gráfico de barras. Este método recibe dos argumentos: el eje x y el eje y. En este caso, usamos la columna <code class="docutils literal notranslate"><span class="pre">fecha_def</span></code> como eje x y la columna <code class="docutils literal notranslate"><span class="pre">fallecidos_diarios</span></code> como eje y.</p></li>
</ul>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">],</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;BarContainer object of 122 artists&gt;
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Luego, usamos los métodos <code class="docutils literal notranslate"><span class="pre">set_title</span></code>, <code class="docutils literal notranslate"><span class="pre">set_xlabel</span></code> y <code class="docutils literal notranslate"><span class="pre">set_ylabel</span></code> para agregar títulos y etiquetas a los ejes.</p></li>
</ul>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecidos diarios en México (primer semestre 2022)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecidos&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(3.200000000000003, 0.5, &#39;Fallecidos&#39;)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Finalmente, usamos el método <code class="docutils literal notranslate"><span class="pre">set_xticks</span></code> para segmentar las fechas en el eje x. Esto nos permite que las fechas no se solapen.</p></li>
</ul>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">30</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.axis.XTick at 0x7f94c1ecf9a0&gt;,
 &lt;matplotlib.axis.XTick at 0x7f94c1ecf970&gt;,
 &lt;matplotlib.axis.XTick at 0x7f94c1326d30&gt;,
 &lt;matplotlib.axis.XTick at 0x7f94c1d46160&gt;,
 &lt;matplotlib.axis.XTick at 0x7f94c1f05340&gt;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Por último, mostramos el gráfico con el método <code class="docutils literal notranslate"><span class="pre">plt.show</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="grafico-de-lineas">
<h3>Gráfico de líneas<a class="headerlink" href="#grafico-de-lineas" title="Permalink to this headline">#</a></h3>
<p>Para hacer un gráfico de líneas es básicamente el mismo proceso del gráfico de barras, únicamente que utilizamos el método <code class="docutils literal notranslate"><span class="pre">plot</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">bar</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># creamos el gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">],</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios&#39;</span><span class="p">])</span> <span class="c1"># &lt;-- aquí cambiamos `bar` por `plot`</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecidos diarios en México (primer semestre 2022)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecidos&#39;</span><span class="p">)</span>
<span class="c1"># segmentamos las fechas para que no se solapen</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">30</span><span class="p">])</span>

<span class="c1"># mostramos el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_18_0.png" src="../_images/S4P7-graficos_18_0.png" />
</div>
</div>
<p>Y, como mostramos en la sección <a class="reference internal" href="S4P4-visualizacion-malformada.html"><span class="doc std std-doc">sobre el mensaje en la visualización de datos</span></a>, podemos suavizar las líneas para que se vean más agradables. En este caso, usamos la media móvil simple de 7 días.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># encontrando la media hacemos el suavizado</span>
<span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios_smooth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">muertes_diarias</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha_def</th>
      <th>fallecidos_diarios</th>
      <th>fallecidos_diarios_smooth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7</th>
      <td>10/01/2022</td>
      <td>4</td>
      <td>2.857143</td>
    </tr>
    <tr>
      <th>8</th>
      <td>11/01/2022</td>
      <td>3</td>
      <td>3.142857</td>
    </tr>
    <tr>
      <th>9</th>
      <td>12/01/2022</td>
      <td>4</td>
      <td>3.428571</td>
    </tr>
    <tr>
      <th>10</th>
      <td>13/01/2022</td>
      <td>9</td>
      <td>4.285714</td>
    </tr>
    <tr>
      <th>11</th>
      <td>14/01/2022</td>
      <td>11</td>
      <td>4.857143</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># creamos el gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">],</span> <span class="n">muertes_diarias</span><span class="p">[</span><span class="s1">&#39;fallecidos_diarios_smooth&#39;</span><span class="p">])</span> <span class="c1"># &lt;-- aquí cambiamos `bar` por `plot`</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecidos diarios en México (primer semestre 2022)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecidos&#39;</span><span class="p">)</span>
<span class="c1"># segmentamos las fechas para que no se solapen</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">muertes_diarias</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">30</span><span class="p">])</span>

<span class="c1"># mostramos el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_21_0.png" src="../_images/S4P7-graficos_21_0.png" />
</div>
</div>
</section>
<section id="grafico-de-dispersion">
<h3>Gráfico de dispersión<a class="headerlink" href="#grafico-de-dispersion" title="Permalink to this headline">#</a></h3>
<p>Para hacer un gráfico de dispersión es básicamente el mismo proceso del gráfico de barras, únicamente que utilizamos el método <code class="docutils literal notranslate"><span class="pre">scatter</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">bar</span></code>.</p>
<p>No obstante, este método no es útil para utilizarlo con los datos que usamos en los ejemplos previos. En este caso, necesitamos hallar dos variables que podamos correlacionar, así sea débilmente. En este caso, veremos si existe alguna correlación entre el sexo y la edad de las personas que se contagiaron.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">casos_edad_sexo</span> <span class="o">=</span> <span class="n">datos_covid</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="s1">&#39;sexo&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">casos_edad_sexo</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>edad</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>edad</th>
      <td>1.000000</td>
      <td>-0.572095</td>
    </tr>
    <tr>
      <th>count</th>
      <td>-0.572095</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Anticipamos que es una correlación lineal débil <a class="footnote-reference brackets" href="#footnote" id="id1">1</a>. Ahora, veámosla en un gráfico de dispersión.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># creamos el gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># color de los puntos por cateogoría &#39;sexo&#39;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;HOMBRE&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;MUJER&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">}</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">casos_edad_sexo</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">],</span> <span class="n">casos_edad_sexo</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">casos_edad_sexo</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">colors</span><span class="p">[</span><span class="n">x</span><span class="p">]))</span> 
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Casos confirmados por edad y sexo&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Casos confirmados&#39;</span><span class="p">)</span>

<span class="c1"># mostramos el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_25_0.png" src="../_images/S4P7-graficos_25_0.png" />
</div>
</div>
<p>Notarás que los contagios para mujeres y hombres son muy similares, por lo que comparten la misma tendencia. Es claro que no hay una correlación ya que entre mayor o menor edad no aumenta o disminuye el número de contagios. Lo que sí se observa es una tendencia, tanto en hombre o mujeres, de sufrir contagios principalmente entre los 20 y los 50 años. ¿Sucede lo mismo con los fallecimientos? Es lógico considerar que debe existir una fuerte correlación entre la edad y el número de fallecimientos, pero veamoslo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># seleccionamos los casos en los que hubo fallecimientos</span>
<span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">datos_covid</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">datos_covid</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">(),</span> <span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="s1">&#39;sexo&#39;</span><span class="p">,</span> <span class="s1">&#39;fecha_def&#39;</span><span class="p">]]</span>

<span class="c1"># agrupamos por edad y sexo</span>
<span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">casos_edad_sexo_muertes</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="s1">&#39;sexo&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># creamos el gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># color de los puntos por cateogoría &#39;sexo&#39;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;HOMBRE&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;MUJER&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">}</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">],</span> <span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">colors</span><span class="p">[</span><span class="n">x</span><span class="p">]))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecimientos por edad y sexo&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecimientos&#39;</span><span class="p">)</span>

<span class="c1"># mostramos el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_27_0.png" src="../_images/S4P7-graficos_27_0.png" />
</div>
</div>
<p>Notas que el gráfico es más disperso y que es más complicado cer una tendencia. Esto se debe en parte a que los contagios son mucho mayores que las defunciones, lo que hacer que la dispersión sea mayor. Por otra parte, con los datos que tenemos, es posible encontrar una correlación lineal positiva aunque débil entre la edad y el número de fallecimientos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">casos_edad_sexo_muertes</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>edad</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>edad</th>
      <td>1.000000</td>
      <td>0.400549</td>
    </tr>
    <tr>
      <th>count</th>
      <td>0.400549</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Como vemos en la gráfica, hay una ligera tendencia a que entre mayor sea la edad, mayor sean los fallecimientos.</p>
<p>Pero, ¿qué pasa con otros padecimientos? ¿existe alguna relación entre la edad, la enfermedad y el número de fallecimientos? Afortunadamente no hemos eliminado ni modificado nuestro archivo original, así que podemos regresar a él y hacer un análisis similar.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lista_enfermedades</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;diabetes&#39;</span><span class="p">,</span> <span class="s1">&#39;epoc&#39;</span><span class="p">,</span> <span class="s1">&#39;asma&#39;</span><span class="p">,</span> <span class="s1">&#39;inmusupr&#39;</span><span class="p">,</span> <span class="s1">&#39;hipertension&#39;</span><span class="p">,</span>  <span class="s1">&#39;cardiovascular&#39;</span><span class="p">,</span> <span class="s1">&#39;obesidad&#39;</span><span class="p">,</span> <span class="s1">&#39;renal_cronica&#39;</span><span class="p">,</span> <span class="s1">&#39;tabaquismo&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lista_enfermedades</span><span class="p">:</span>
    <span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">covid_nacional</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">covid_nacional</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">(),</span> <span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="s1">&#39;fecha_def&#39;</span><span class="p">]]</span>
    <span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">casos_edad_sexo_muertes</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
    <span class="n">correla</span> <span class="o">=</span> <span class="n">casos_edad_sexo_muertes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">correla</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>diabetes            edad     count
edad   1.000000  0.306907
count  0.306907  1.000000
epoc            edad     count
edad   1.000000  0.364565
count  0.364565  1.000000
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>asma            edad     count
edad   1.000000  0.195403
count  0.195403  1.000000
inmusupr            edad     count
edad   1.000000  0.323069
count  0.323069  1.000000
hipertension            edad     count
edad   1.000000  0.423814
count  0.423814  1.000000
cardiovascular            edad     count
edad   1.000000  0.438819
count  0.438819  1.000000
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>obesidad            edad     count
edad   1.000000  0.255072
count  0.255072  1.000000
renal_cronica            edad     count
edad   1.000000  0.379559
count  0.379559  1.000000
tabaquismo            edad     count
edad   1.000000  0.403027
count  0.403027  1.000000
</pre></div>
</div>
</div>
</div>
<p>Como verás, las correlaciones lineales en todos los casos son muy débiles. Podemos graficar una de las tendencias más claras, la relacionada con la enfermedad cardiovascular y observar el gráfico:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">covid_nacional</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">covid_nacional</span><span class="p">[</span><span class="s1">&#39;fecha_def&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">(),</span> <span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="s1">&#39;cardiovascular&#39;</span><span class="p">,</span> <span class="s1">&#39;fecha_def&#39;</span><span class="p">]]</span>
<span class="n">casos_edad_sexo_muertes</span> <span class="o">=</span> <span class="n">casos_edad_sexo_muertes</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;edad&#39;</span><span class="p">,</span> <span class="s1">&#39;cardiovascular&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SI&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;NO&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;SE IGNORA&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">}</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">],</span> <span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">casos_edad_sexo_muertes</span><span class="p">[</span><span class="s1">&#39;cardiovascular&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">colors</span><span class="p">[</span><span class="n">x</span><span class="p">]))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fallecimientos por edad y enfermedad cardiovascular&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fallecimientos&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/S4P7-graficos_34_0.png" src="../_images/S4P7-graficos_34_0.png" />
</div>
</div>
<p>¡Fantástico! Hemos experimentado con varios tipos de gráficas, intentando encontrar patrones en nuestros datos. Hallamos algunas tendencias, como que durante el segundo semetre de 2020 hubo un pico de mortalidad en el mes de febrero, aunque sin alcanzar a superar los 3o fallecimientos diarios. Por otra parte, los contagios se centraron en las poblaciones con edades entre 20 y 40 años, mientras que los fallecimientos se concentraron en las personas mayores de 60 años. Por último, no encontramos una relación entre las enfermedades y el número de fallecimientos.</p>
<p>Obviamente todavía podríamos realizar otras operaciones y gráficos, pero pasemos al siguiente tema, donde realizaremos las mismas gráficas pero con la ayuda de la librería Plotly, lo que dará un poco más de dinamismo a nuestras visualizaciones.</p>
</section>
</section>
<section id="notas">
<h2>Notas<a class="headerlink" href="#notas" title="Permalink to this headline">#</a></h2>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="footnote"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>En aras de la brevedad, en esta sección trataremos correlaciones lineales basados en el coeficiente de correlación de Pearson. Si quisiéramos profundizar más en la distribución de los datos, tendríamos que utilizar otro tipo de coeficientes no-lineales, como el coeficiente de correlación de Spearman o el coeficiente de correlación de Kendall. Si quieres realizar estos análisis con tus datos con Python, puedes explotar la librearía <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/stats.html">scipy.stats</a>.</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./S4-visualizaciones-publicacion"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="S4P6-intrografs.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Barras, líneas y mapas</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="S4P8-plotly.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Gráficos con plotly</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jairo Antonio Melo Flórez<br/>
  
    <div class="extra_footer">
      <a href="https://doi.org/10.5281/zenodo.7035563"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7035563.svg" alt="DOI"></a><br />Este cuaderno fue elaborado en el marco del curso ofrecido por el programa de formación docente y eduación continua de la <a href="https://cuaieed.unam.mx/formacion_docente_educacion_continua" target="_blank">CUAIEED-UNAM</a> en el mes de agosto de 2022.<br /> | <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Licencia de Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a><br />Esta obra está bajo una <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">licencia de Creative Commons Reconocimiento 4.0 Internacional</a>.
    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>